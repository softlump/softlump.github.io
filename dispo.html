<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Riven Disposition & Stat Ranges</title>
    <meta property="og:title" content="Riven Disposition & Stat Ranges" />
    <meta property="og:description " content="Riven Disposition, Stat Ranges, Weapon List" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="" />
    <meta property="og:url" content="https://softlump.github.io/dispo" />
    <meta name="description" content="Warframe riven stat ranges and disposition. A simple tool for finding stat ranges for a given weapon or an arbitrary disposition value.">
    <link rel="icon" type="image/png" href="fav.png" sizes="16x16" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400&display=swap" rel="stylesheet">
    <style>
        html {
            background:rgb(74,74,74);
            min-width:410px;
        }
        body {           
            color:rgb(0,0,0);
            font-family: 'Consolas', monospace;
            font-size: 12px;
            padding:0;
            margin:0;
            top:0;
            left:0;
            width: 100%;
            height: auto;
            background:rgb(74,74,74);
            color:rgb(220,220,220);
            /*overflow:visible;*/
        }
        div {
            text-shadow: 1px 1px 1px #222;
        }
        select, input{
            font-family: 'Consolas', monospace;
            font-size: 12px;
        }
        .weaponlist {
            color:white;
        }
        .weaponlist a.w {
            float:left;
            opacity:0.9;
            color:rgb(230,230,230);
            text-decoration: none;
            margin: 2px;
            padding:2px;
        }
        .weaponlist a.t {
            display:block;
            opacity:0.9;
            color:rgb(230,230,230);
            text-decoration: none;
            margin: 2px;
            padding:2px;
        }
        .weaponlist a.h{
            opacity:0.9;
            background:rgb(230,230,230);
            color:rgb(50,50,50);
            text-shadow:none;
            border-radius:2px;
        }
        .weaponlist a:hover {
            opacity:1;
            background:#ccc;
            color:#444;
            text-shadow:none;
            border-radius:2px;
        }
        .weaponlist h2 {
            clear:left;
            font-family: 'Cairo', sans-serif;
            font-size: 22px;
            font-weight:lighter;
            margin:0;
            padding:0;
            border:0;
            padding-top:15px;
        }
        .weaponlist span {
            font-size:12px;
            padding:1px;
            cursor: pointer;
            text-decoration:underline;
            position:relative;
        }
        .weaponlist span:hover{
            background:rgb(250,250,250);
            color:rgb(50,50,50);
            text-shadow:none;
            border-radius:2px;
        }
        .weaponlist div.w{
            width:100%;
            clear:left;
        }
        .weaponlist div.t{
            width:200px;
            float:left;
        }
        div.menu{
            display:block;
            margin-top:15px;
            margin-bottom:-16px;
        }
        #form{float:left;}
        #dispoForm select, input{
            font-family: 'Consolas', monospace;
            border:0;
            margin:0;
            padding:0px 3px;
        }
        #form_type{
            background:rgb(230,230,230);
            color:rgb(20,20,20);
            border-radius: 2px;
            border:0;
            width:68px;
            height:20px;
        }
        #form_bonus, #form_malus {
            background:rgb(230,230,230);
            color:rgb(20,20,20);
            border-radius: 2px;
            border:0;
            margin-left:-5px;
            width:28px;
            height:20px;
        }
        #form_dispo {
            background:rgb(230,230,230);
            color:rgb(20,20,20);
            border-radius: 2px;
            border:0;
            margin-left:-5px;
            width:40px;
            height:20px;
        }
        #formdiv{
            margin:2px 0;
            height:auto;
        }
        #patch{
            background:rgb(145,145,145);
            padding:4px;
        }
        #selection{
            clear:left;
            overflow:hidden;
            height:20px;
        }
        #selection a{
            color:rgb(250,250,250);
            text-decoration: underline;
            padding:1px;
        }
        #selection a:hover{
            color:rgb(50,50,50);
            text-decoration: underline;
            background:#ccc;
            text-shadow:none;
            border-radius:1px;
        }
        .m{
            padding:4px;
        }
        .s1{
            opacity:0.6;
        }
        .s2{
            opacity:0.3;
        }
        .big{
            font-size:13px;
        }

        span.min{
            color:rgb(20,20,20);
            background-color:rgb(170,170,170);
            text-shadow: 1px 1px 1px rgb(200,200,200);
            font-weight:bold;
            margin-left:-1px;
            border-top:1px solid rgb(74,74,74);
        }
        span.min2{
            background-color:rgb(150,150,150);
        }
        span.max{
            color:rgb(20,20,20);
            background-color:rgb(230,230,230);
            text-shadow: 1px 1px 1px rgb(255,255,255);
            font-weight:bold;
            border-right:1px solid rgb(74,74,74);
            border-left:1px solid rgb(74,74,74);
            border-top:1px solid rgb(74,74,74);
        }
        span.max2{
            background-color:rgb(210,210,210);
        }
        span.avg{
            color:rgb(220,220,220);
            background-color:rgb(130,130,130);
            text-shadow: 1px 1px 1px rgb(10,10,10);
            font-weight:normal;
            border-top:1px solid rgb(74,74,74);
        }
        span.avg2{
            background-color:rgb(110,110,110);
        }

        #myInput{
            width:200px;
            height:20px;
            margin-bottom:5px;
            background:rgb(230,230,230);
            color:rgb(20,20,20);
            border-radius: 2px;
        }
        * { box-sizing: border-box; }
        .autocomplete {
            /*the container must be positioned relative:*/
            position: relative;
            display: inline-block;
            float:left;
            margin-right:5px;
        }
        .autocomplete-items {
            position: absolute;
            border: none;
            z-index: 99;
            /*position the autocomplete items to be the same width as the container:*/
            top: 100%;
            left: 0;
            right: 0;
        }
        .autocomplete-items div {
            padding: 6px 4px;
            /*width:360px;*/
            cursor: pointer;
            color:rgb(80,80,80);
            background-color: rgb(230,230,230);
            text-shadow: 1px 1px 1px rgb(255,255,255);
            border-bottom: 1px solid rgb(150,150,150);
        }
        .autocomplete-items div:hover {
            /*when hovering an item:*/
            background-color: rgb(80,80,80);
            color:rgb(210,210,210);
            text-shadow: 1px 1px 1px rgb(10,10,10);
        }
        .autocomplete-active {
            /*when navigating through the items using the arrow keys:*/
            background-color: rgb(60,60,60) !important;
            color:rgb(210,210,210) !important;
            text-shadow: 1px 1px 1px rgb(10,10,10) !important;
        }

    </style>
</head>
<body>
<div id="patch"></div>
<div id="formdiv" autocomplete="off" class="m">
    <div class="autocomplete" style="width:200px;">
        <input id="myInput" type="text" name="weaponSelectList" onClick="this.setSelectionRange(0, this.value.length)" placeholder="Weapon">
    </div>
    <form action="" oninput="FormChange()" id="form">
        <select name="type" id="form_type">
            <option value="R">Rifle</option>
            <option value="S">Shotgun</option>
            <option value="P">Pistol</option>
            <option value="M">Melee</option>
            <option value="A">Archgun</option>
        </select>
        <b>Positive</b>
        <select name="bonus" id="form_bonus">
            <option value="3">3</option>
            <option value="2">2</option>
        </select>
        <b>Negative</b>
        <select name="malus" id="form_malus">
            <option value="1">1</option>
            <option value="0">0</option>
        </select>
        <b>Dispo</b>
        <input type="text" name="dispo" id="form_dispo" onClick="this.setSelectionRange(0, this.value.length)" maxlength="5" value="0.5" />
    </form>
</div>
<div id="selection" class="m"></div>
<div id="stats" class="m big"></div>
<div id="list" class="weaponlist m">list</div>
<script type="text/javascript">
    window.addEventListener('keydown',function(e){if(e.keyIdentifier=='U+000A'||e.keyIdentifier=='Enter'||e.keyCode==13){if(e.target.nodeName=='INPUT'&&e.target.type=='text'){e.preventDefault();return false;}}},true);
</script>
<script>
    class Weapon {
        constructor ( weaponName, dispo, weaponType ) {
            this.weaponName = weaponName;
            this.dispo = dispo;
            this.weaponType = weaponType;
        }
    }

    function DropListSelect( n )
    {
        // only using name, get values to send to WeaponSelect()
        for( i=0; 1<weapons.length; i++ )
        {
            if( weapons[i].weaponName == n )
            {
                WeaponSelect( weapons[i].weaponName, weapons[i].dispo, weapons[i].weaponType )
                break;
            }
        }
    }

    function WeaponSelect( n, d, t )
    {
        var wpnType = "???";

        selectedWeapon = n;

        if( t == "R" ) wpnType = "Rifle";
        if( t == "S" ) wpnType = "Shotgun";
        if( t == "P" ) wpnType = "Pistol";
        if( t == "A" ) wpnType = "Archgun";
        if( t == "M" ) wpnType = "Melee";

        document.getElementById("myInput").value = n;
        document.getElementById("form_type").value = t;
        document.getElementById("form_dispo").value = d;

        var txt = "";
        txt+="<b>";
        txt += n + "(" + d + ")[" + wpnType + "] ";
        txt+="</b>"

        //key=key.replace(/ /g,"_");
        var urlName = n;
        var sn = n.split("(");
        urlName = sn[0];
        urlName = urlName.replace(/ /g,"_"); //regex to replace whitepaces with an underline
        if(urlName[urlName.length-1] == "_"){ urlName = urlName.substring(0, urlName.length-1); }


        txt+="(<a href=\"https://warframe.fandom.com/wiki/"+urlName+"\" target=\"_blank\">Wiki Page</a>) ";

        document.getElementById("selection").innerHTML = txt;
        RenderWeaponList();
        FormChange();
    }

    function DispositionUpdates ()
    {   
        var txt = "";
        var patchTxt = "";

        // starting with a space in these strings is important
        txt = " Tenet Envoy R(0.65) Xoris M(0.65) Tatsu Prime M(0.65) Phantasma Prime S(0.65) Cedo S(0.65) Guandao Prime M(0.65) Nikana Prime M(0.6) Pyrana Prime P(0.6) Ignis R(0.6) Acceltra R(0.6) Dual Keres Prime M(0.6) Aegrit P(0.6) Innodem M(0.6) Paracesis M(0.6) Nataruk R(0.6) Praedos M(0.6) Phenmor R(0.6) Kuva Bramma R(0.6) Redeemer Prime M(0.6) Rubico Prime R(0.6) Plague Kripath M(0.6) Kuva Zarr R(0.6) Felarx S(0.6) Kronen Prime M(0.6) Catchmoon (Secondary) P(0.55) Tenet Arca Plasmor S(0.55) Sporelacer (Secondary) P(0.55) Ignis Wraith R(0.55) Epitaph P(0.55) Steflos S(0.5) Mausolon A(0.5) Perigale R(0.5) Tenet Ferrox R(0.5) Stropha M(0.5) Afuris Prime P(0.5) Cobra & Crane Prime M(0.5) Sarofang M(0.5) Laetum P(0.5) Corufell M(0.5) Kuva Nukor P(0.5) Tenet Plinx P(0.5) Amprex R(0.85) Tenet Grigori M(0.85) Tenet Detron P(0.85) Staticor P(0.85) Hystrix Prime P(0.85) Pennant M(0.85) Kuva Twin Stubbas P(0.85) Balla M(0.85) Kuva Chakkhurr R(0.85) Kuva Brakk P(0.85) Vectis Prime R(0.85) Trumna R(0.85) Corvas Prime A(0.8) Rattleguts (Secondary) P(0.8) Venka Prime M(0.8) Lesion M(0.8) Afentis R(0.8) Vericres M(0.8) Tenet Agendus M(0.8) Akstiletto Prime P(0.8) Fulmin R(0.8) Kuva Shildeg M(0.75) Gram Prime M(0.75) Hespar M(0.75) Plague Keewar M(0.75) Dokrahm M(0.75) Tenet Exec M(0.75) Knell Prime P(0.75) Tenet Diplos P(0.75) Shedu R(0.75) Tenet Livia M(0.75) Bubonico S(0.75) Vastilok M(0.75) Glaive Prime M(0.7) Tombfinger (Secondary) P(0.7) Sepfahn M(0.7) Tenet Cycron P(0.7) Kuva Ogris R(0.7) Kuva Grattler A(0.7) Proboscis Cernos R(0.7) Slaytra M(0.7) Reaper Prime M(0.7) Orthos Prime M(0.7) Ambassador R(1.1) Arca Scisco P(1.1) Sicarus P(1.1) Dakra Prime M(1.1) Telos Boltace M(1.1) Catchmoon (Primary) S(1.1) Prisma Dual Cleavers M(1.1) Vaykor Marelok P(1.1) Synoid Gammacor P(1.1) Vectis R(1.1) Kuva Kraken P(1.1) Soma Prime R(1.1) Akjagara P(1.1) Pandero Prime P(1.1) Opticor Vandal R(1.1) Venka M(1.1) Ninkondi Prime M(1.1) Velocitus A(1.1) Sporelacer (Primary) S(1.1) Vermisplicer (Secondary) P(1.1) Mewan M(1.1) Karyst Prime M(1.1) Hirudo M(1.1) Imperator A(1.1) Dark Dagger M(1.1) Grattler A(1.1) Hate R(1.1) Supra R(1.1) Dual Keres M(1.1) Astilla Prime S(1.1) Zenith R(1.1) Tiberon M(1.1) Aeolak R(1.1) Exergis S(1.1) Tenora R(1.1) Battacor R(1.1) Vaykor Hek S(1.1) Stradavar R(1.1) Scourge Prime R(1.1) Fragor Prime M(1.05) Guandao M(1.05) Kuva Hind R(1.05) Kuva Karak R(1.05) Aklex P(1.05) Redeemer M(1.05) Vitrica M(1.05) War M(1.05) Tenet Flux Rifle R(1.05) Silva & Aegis Prime M(1.05) Keratinos M(1.05) Verdilac M(1.05) Phantasma S(1.05) Fluctus A(1.05) Korumm M(1.05) Zakti Prime P(1.05) Gaze (Primary) R(1.05) Athodai P(1.05) Galatine M(1.05) Baza R(1.05) Lanka R(1.05) Sigma & Octantis M(1.05) Sepulcrum P(1.05) Kuva Quartakk R(1.05) Corinth Prime S(1) Alternox R(1) Morgha A(1) Stradavar Prime R(1) Tenora Prime R(1) Akaten M(1) Multron R(1) Sweeper Prime S(1) Cryotra R(1) Sweeper S(1) Artax R(1) Tombfinger (Primary) R(1) Tazicor R(1) Helstrum R(1) Cortege A(1) Larkspur A(1) Batoten M(1) Lacerten M(1) Vulcax R(1) Sancti Tigris S(1) Pangolin Prime M(1) Rattleguts (Primary) R(1) Quassus M(1) Tiberon Prime R(1) Halikar Wraith M(1) Aksomati Prime P(1) Orthos M(1) Nagantaka Prime M(1) Tatsu M(1) Supra Vandal R(1) Baza Prime R(1) Kuva Seer P(1) Stahlta R(1) Akjagara Prime P(1) Lenz R(1) Tenet Spirex P(0.95) Akstiletto P(0.95) Aklex Prime P(0.95) Cyath M(0.95) Akarius P(0.95) Tigris Prime S(0.95) Atomos P(0.95) Pyrana P(0.95) Cyanex P(0.95) Nikana M(0.95) Nami Skyla Prime M(0.95) Imperator Vandal A(0.95) Arca Plasmor S(0.95) Rubico R(0.95) Kuva Tonkor R(0.95) Rakta Dark Dagger M(0.95) Kuva Ayanga A(0.95) Skiajati M(0.9) Nepheri M(0.9) Vermisplicer (Primary) R(0.9) Galatine Prime M(0.9) Euphona Prime P(0.9) Kuva Kohm S(0.9) Gaze (Secondary) P(0.9) Kuva Hek S(0.9) Twin Basolk M(1.3) Spira P(1.3) Falcor M(1.3) Dread R(1.3) Arca Titron M(1.3) Mire M(1.3) Akbolto P(1.3) Akbronco Prime P(1.3) Kulstar P(1.3) Fang Prime M(1.3) Latron Prime R(1.3) Prisma Gorgon R(1.3) Sporothrix R(1.3) Snipetron R(1.3) Javlok R(1.3) Secura Penta R(1.3) Glaxion R(1.3) Dual Decurion A(1.3) Nami Skyla M(1.3) Obex M(1.3) Dark Split-Sword M(1.3) Cobra & Crane M(1.3) Despair P(1.3) Mios M(1.3) Vaykor Sydon M(1.3) Tekko Prime M(1.3) Secura Dual Cestra P(1.3) Twin Rogga P(1.3) Glaive M(1.3) Hikou P(1.3) Prisma Angstrum P(1.3) Caustacyst M(1.3) Pathocyst M(1.3) Scindo Prime M(1.3) Skana M(1.3) Scoliac M(1.3) Sybaris R(1.3) Cerata M(1.3) Kohm S(1.3) Prisma Grakata R(1.3) Nagantaka M(1.3) Veldt R(1.3) Cyngas A(1.3) Grinlok R(1.3) Hema R(1.3) Braton Vandal R(1.3) Verglas M(1.3) Ogris R(1.3) Rabvee M(1.3) Cernos R(1.3) Tonkor R(1.3) Kronsh M(1.3) Boltor R(1.3) Torid R(1.3) Cadus M(1.29) Karak Wraith R(1.28) Arum Spinosa M(1.25) Lex P(1.25) Prisma Obex M(1.25) Twin Kohmak P(1.25) Deconstructor Prime M(1.25) Venato M(1.25) Knell P(1.25) Ooltha M(1.25) Quartakk R(1.25) Tipedo Prime M(1.25) Masseter M(1.25) Simulor R(1.25) Zakti P(1.25) Aksomati P(1.25) Deconstructor M(1.25) Ballistica P(1.25) Dual Ichor M(1.25) Azima P(1.25) Lecta M(1.25) Glaxion Vandal R(1.25) Ohma M(1.25) Panthera Prime R(1.25) Phaedra A(1.25) Brakk P(1.25) Wolf Sledge M(1.25) Braton Prime R(1.25) Snipetron Vandal R(1.25) Astilla S(1.25) Prisma Dual Decurions A(1.25) Daikyu R(1.25) Telos Akbolto P(1.25) Zylok P(1.25) Akvasto P(1.25) Hikou Prime P(1.25) Cernos Prime R(1.25) Boltace R(1.25) Argonak R(1.25) Rakta Cernos R(1.25) Dual Kamas Prime M(1.25) Sancti Magistar M(1.25) Dex Sybaris R(1.25) Destreza M(1.25) Carmine Penta R(1.25) Prisma Grinlok R(1.245) Vulklok R(1.245) Prime Laser Rifle R(1.21) Laser Rifle R(1.21) Volnus Prime M(1.2) Jat Kusar M(1.2) Ceti Lacera M(1.2) Secura Lecta M(1.2) Corvas A(1.2) Twin Krohkur M(1.2) Fragor M(1.2) Pulmonars M(1.2) Dual Cleavers M(1.2) Silva & Aegis M(1.2) Dehtat M(1.2) Rakta Ballistica P(1.2) Skana Prime M(1.2) Akbolto Prime P(1.2) Zymos P(1.2) Quatz P(1.2) Pandero P(1.2) Ballistica Prime P(1.2) Ocucor P(1.2) Cycron P(1.2) Velox P(1.2) Scourge R(1.2) Sybaris Prime R(1.2) Basmu R(1.2) Zhuge R(1.2) Strun Prime S(1.2) Hek S(1.2) Synoid Simulor R(1.2) Boltor Prime R(1.2) Telos Boltor R(1.2) Pox P(1.2) Spira Prime P(1.2) Marelok P(1.2) Twin Gremlins P(1.2) Magnus Prime P(1.2) Lex Prime P(1.2) Akvasto Prime P(1.2) Hystrix P(1.2) Prisma Skana M(1.2) Plinx P(1.2) Twin Grakatas P(1.2) Soma R(1.15) Corinth S(1.15) Zhuge Prime R(1.15) Opticor R(1.15) Quellor R(1.15) Detron P(1.15) Dragon Nikana M(1.15) Zarr R(1.15) Ferrox R(1.15) Tigris S(1.15) Atterax M(1.15) Rumblejack M(1.15) Gammacor P(1.15) Furax Wraith M(1.15) Broken War M(1.15) Sicarus Prime P(1.15) Zenistar M(1.15) Sonicor P(1.15) Sarpa P(1.15) Kompressa P(1.15) Kuva Drakgoon S(1.15) Prisma Twin Gremlins P(1.15) Ghoulsaw M(1.15) Mara Detron P(1.15) Komorex R(1.15) Tenet Tetra R(1.15) Catabolyst P(1.15) Destreza Prime M(1.14) Harpak R(1.55) Flux Rifle R(1.55) Magnus P(1.53) Kraken P(1.53) Cestra P(1.52) Akzani P(1.52) Aklato P(1.52) MK1-Kunai P(1.51) Kunai P(1.51) Bolto P(1.51) Amphis M(1.5) Seer P(1.5) Ankyros M(1.5) Tetra R(1.5) Miter R(1.5) Mutalist Quanta R(1.5) Spectra P(1.49) Ether Daggers M(1.49) Dark Sword M(1.48) Stug P(1.48) Heat Sword M(1.48) Dual Skana M(1.48) Cronus M(1.48) Plasma Sword M(1.48) Pangolin Sword M(1.47) Kama M(1.47) Kogake M(1.46) Anku M(1.46) Phage R(1.46) Convectrix R(1.46) Deth Machine Rifle Prime R(1.455) Deth Machine Rifle R(1.455) Twin Vipers P(1.45) Nukor P(1.45) Burst Laser P(1.45) Bronco P(1.45) Prisma Machete M(1.45) MK1-Furax M(1.45) Dual Ether M(1.45) Kestrel M(1.45) Ether Reaper M(1.45) Afuris P(1.45) Tysis P(1.45) Machete M(1.45) Viper P(1.45) Ankyros Prime M(1.45) Prisma Burst Laser P(1.45) Vulkar R(1.45) Buzlok R(1.45) Burston R(1.45) Prisma Tetra R(1.45) MK1-Paris R(1.45) Boar S(1.45) MK1-Strun S(1.45) Dual Zoren M(1.44) Gram M(1.44) Heat Dagger M(1.44) Talons P(1.44) Halikar M(1.44) Ether Sword M(1.44) Dual Heat Swords M(1.44) Ceramic Dagger M(1.43) Kronen M(1.43) Nami Solo M(1.43) Hind R(1.42) Attica R(1.415) Ninkondi M(1.41) Twin Vipers Wraith P(1.41) Castanas P(1.4) Drakgoon S(1.4) Vulkar Wraith R(1.4) Kogake Prime M(1.4) Broken Scepter M(1.4) Gorgon R(1.4) Panthera R(1.4) Tekko M(1.4) Dual Raza M(1.4) Latron R(1.4) Jaw Sword M(1.4) Machete Wraith M(1.4) MK1-Bo M(1.4) Okina M(1.4) Prova M(1.4) Quanta R(1.4) Endura M(1.4) Gazal Machete M(1.4) MK1-Furis M(1.4) Viper Wraith P(1.4) Vasto P(1.4) Paris R(1.4) Lato P(1.4) Embolist P(1.4) Quanta Vandal R(1.4) Spectra Vandal P(1.4) Bronco Prime P(1.4) Dera R(1.4) Strun S(1.4) Dex Furis P(1.39) Serro M(1.38) Ripkas M(1.38) Furax M(1.38) Tonbo M(1.38) Fang M(1.36) Orvius M(1.35) Kesheg M(1.35) Lato Vandal P(1.35) Penta R(1.35) Galvacord M(1.35) Furis P(1.35) Dual Kamas M(1.35) Pupacyst M(1.35) Karyst M(1.35) Fusilai P(1.35) Angstrum P(1.35) MK1-Braton R(1.35) Akbronco P(1.35) Dual Cestra P(1.35) Paris Prime R(1.35) Dual Toxocyst P(1.35) Kohmak P(1.35) Dera Vandal R(1.35) Latron Wraith R(1.35) Cassowar M(1.35) Gorgon Wraith R(1.35) Burston Prime R(1.35) Shaku M(1.35) Karak R(1.35) Sydon M(1.35) Sheev M(1.35) Mutalist Cernos R(1.35) Stubba P(1.35) Sibear M(1.35) Vasto Prime P(1.35) Akmagnus P(1.35) Grakata R(1.35) Ack & Brunt M(1.35) Lato Prime P(1.35) Strun Wraith S(1.35) Scindo M(1.35) Korrudo M(1.35) Prova Vandal M(1.35) Kreska M(1.35) Dex Dakra M(1.35) Volnus M(1.35) Heliocor M(1.35) Jat Kittag M(1.35) Braton R(1.35) Magistar M(1.35) Gunsen M(1.35) Bo M(1.35) Sancti Castanas P(1.35) Bo Prime M(1.35) Synoid Heliocor M(1.35) Krohkur M(1.35) Boar Prime S(1.34) Sobek S(1.33) Acrid P(1.33) Stinger R(1.315) Paracyst R(1.315) Synapse R(1.315) Tipedo M(1.31) Lacera M(1.31)";
        WriteDisposition( txt );
        // BARUUK PRIME
        //https://forums.warframe.com/topic/1334648-december-2022-riven-dispositions/
        patchTxt = "Last updated for: Luaâ€™s Prey: Baruuk Prime: Hotfix 32.2.5 | December 14, 2022";
        txt = " Aeolak R(1.1) Afentis R(0.8) Alternox R(1) Nagantaka Prime R(1) Proboscis Cernos R(0.7) Tenet Flux Rifle R(1.05) Phantasma Prime S(0.65) Aegrit P(0.6) Akjagara P(1.1) Akjagara Prime P(1) Hystrix Prime P(0.85) Magnus Prime P(1.2) Tenet Detron P(0.85) Tenet Diplos P(0.75) Tenet Spirex P(0.95) Tombfinger (Secondary) P(0.7) Balla M(8.5) Dual Kamas M(1.35) Dual Kamas Prime M(1.25) Ghoulsaw M(1.15) Hespar M(0.75) Innodem M(0.6) Karyst Prime M(1.1) Korumm M(1.05) Nepheri M(0.9) Pupacyst M(1.35) Rumblejack M(1.15) Slaytra M(0.7) Tatsu Prime M(0.65) Telos Boltace M(1.1) Tenet Grigori M(0.85) Tenet Livia M(0.75) Venato M(1.25) Verdilac M(1.05) Vericres M(0.8) Corvas Prime A(0.8)";
        WriteDisposition( txt );
        // HILDRYN PRIME
        //https://forums.warframe.com/topic/1342518-march-2023-riven-dispositions/
        patchTxt = "Last updated for: Hildryn Prime: Hotfix 32.3.6 | March 15, 2023";
        txt = " Aeolak R(1.15) Afentis R(0.85) Alternox R(1.05) Kuva Tonkor R(0.9) Nagantaka Prime R(1.05) Perigale R(0.7) Tenet Ferrox R(0.75) Tenet Flux Rifle R(1.1) Tenet Tetra R(1.2) Phantasma Prime S(0.7) Steflos S(0.65) Aegrit P(0.65) Afuris Prime P(0.7) Catabolyst P(1.2) Catchmoon (secondary) P(0.6) Hystrix Prime P(0.9) Kuva Seer P(1.05) Magnus Prime P(1.25) Spira P(1.35) Spira Prime P(1.25) Tenet Plinx P(0.55) Tenet Spirex P(1) Zakti Prime P(1.1) Balla M(0.8) Cerata M(1.25) Cobra & Crane Prime M(0.75) Corufell M(0.55) Ghoulsaw M(1.2) Hespar M(0.8) Innodem M(0.65) Korumm M(1.1) Ripkas M(1.3) Sarofang M(0.65) Slaytra M(0.8) Tatsu M(1.05) Tatsu Prime M(0.7) Tenet Exec M(0.8) Venato M(1.3) Vericres M(1) Volnus Prime M(1.25)";
        WriteDisposition( txt );
        // DUVIRI PARADOX
        //https://forums.warframe.com/topic/1346011-pc-update-33-the-duviri-paradox/
        patchTxt = "Last updated for: Update 33.5: The Seven Crimes of Kullervo | June 21, 2023";
        txt = " Cinta P(0.5) Sun & Moon M(0.5) Syam M(0.5) Azothane M(0.5) Edun M(0.5) Sampotes M(0.5) Prisma Lenz R(1) Rauta S(0.5)";
        WriteDisposition( txt );
        // ECHOES OF DUVIRI 
        //https://forums.warframe.com/topic/1361249-update-336-echoes-of-duviri/
        //https://forums.warframe.com/topic/1361177-july-2023-riven-dispositions/
        patchTxt = "Last updated for: Update 33.6: Echoes of Duviri | July 27, 2023";
        txt = " Afentis R(0.95) Cinta R(0.7) Perigale R(0.85) Phantasma Prime S(0.75) Rauta S(0.6) Steflos S(0.85) Tenet Ferrox S(0.85) Aegrit P(0.75) Afuris Prime P(0.85) Tenet Plinx P(0.6) Larkspur Prime A(0.6) Azothane M(0.7) Cobra & Crane Prime M(0.9) Corufell M(0.65) Dual Keres Prime M(0.65) Edun M(0.7) Sampotes M(0.75) Sarofang M(0.8) Slaytra M(0.85) Sun & Moon M(0.7) Syam M(0.65) Fulmin Prime R(0.5) Gunsen Prime M(0.5) Argo & Vel M(0.5)";
        WriteDisposition( txt );
        //etc..
        // R(ifle) S(hotgun) P(istol) M(elee) A(rchgun)
        document.getElementById("patch").innerHTML = patchTxt;
    }

    function WriteDisposition ( t )
    {
        //iterate every char? save position, then cut out the name and dispo?
        var testA = "(";
        var testB = ")";
        var nameIndexStart = -1;
        var nameIndexEnd = 0;
        var dispoIndexStart = -1;
        var dispoIndexEnd = 0;
        var nameSet = false;
        var dispoSet = false;
        var typeSet = false;

        var exists = false;

        var tmpName = "";
        var tmpDispo = "";
        var tmpType = "";

        for( i=0;i<t.length;i++)
        {
            // assuming string starts with a name
            if( !nameSet )
            {
                if(nameIndexStart == -1) // -1 as 'not set'
                    nameIndexStart = i+1;

                if( t.charAt(i) == testA.charAt(0) )//
                {
                    if(t.charAt(i+1) == "1" || t.charAt(i+1) == "0")
                    {
                        nameIndexEnd = i-2;
                        dispoIndexStart = i+1;
                        tmpName = t.substring(nameIndexStart,nameIndexEnd);
                        nameSet = true;
                        tmpType = t.charAt(nameIndexEnd+1);
                        typeSet = true;
                    }

                }
            }

            if( nameSet && !dispoSet ) // when we have name, continuing in the same step to begin dispo check
            {
                if( t.charAt(i) == testA.charAt(0) )//
                {
                    dispoIndexStart = i+1;
                }
                if( t.charAt(i) == testB.charAt(0) )//
                {
                    dispoIndexEnd = i;
                    tmpDispo = t.substring(dispoIndexStart,dispoIndexEnd);
                    dispoSet = true;
                }
            }

            if( nameSet && dispoSet ) // resetting once we find a name and dispo
            {
                //enter the item
                if(weapons.length != 0)
                {
                    for( ii=0; ii<weapons.length; ii++ )
                    {
                        if( weapons[ii].weaponName == tmpName )
                        {
                            //update current entry
                            weapons[ii].dispo = tmpDispo;
                            weapons[ii].weaponType = tmpType;
                            exists = true;
                            break;
                        }
                    }
                }
            
                if(!exists)
                {
                    weapons.push( new Weapon( tmpName, tmpDispo, tmpType ) ); 
                    if( tmpType == "R"){ rCount++; }
                    if( tmpType == "S"){ sCount++; }
                    if( tmpType == "P"){ pCount++; }
                    if( tmpType == "A"){ aCount++; }
                    if( tmpType == "M"){ mCount++; }
                }
                
                nameSet = false;
                nameIndexStart = -1;
                dispoSet = false;
                dispoIndexStart = -1;
                typeSet = false;
                tmpName = "";
                tmpDispo = "";
                tmpType = "";
                exists = false;
            }
        }
    }

    function FormChange()
    {
        var category = document.getElementById("form_type").value;
        var dispo = document.getElementById("form_dispo").value;
        var bonus = document.getElementById("form_bonus").value;
        var malus = document.getElementById("form_malus").value;
        var bonus_mod = 0;
        var malus_mod = 0;
        var val = 0;
        var txt = "";

        dispo = Math.min(Math.max(dispo, 0.5), 1.55);

        var vSpace = 6;
        var dSpace = 24;

        if( bonus == 2 && malus == 0){ bonus_mod = 0.99; malus_mod = 0; }
        if( bonus == 2 && malus == 1){ bonus_mod = 1.2375; malus_mod = -0.495; }
        if( bonus == 3 && malus == 0){ bonus_mod = 0.75; malus_mod = 0; }
        if( bonus == 3 && malus == 1){ bonus_mod = 0.9375; malus_mod = -0.75; }
        alternate = 0;

        //Header Line
        var headtxt = "";
        if( category == "R" ){ headtxt+="Rifle&nbsp;&nbsp;"; }
        if( category == "S" ){ headtxt+="Shotgun"; }
        if( category == "P" ){ headtxt+="Pistol&nbsp;"; }
        if( category == "A" ){ headtxt+="Archgun"; }
        if( category == "M" ){ headtxt+="Melee&nbsp;&nbsp;"; }
        headtxt+=FormatNum(dispo,5)+" ";
        if( dispo >= 0.5 && dispo <= 0.69 ){ headtxt+="&#9675;&#9675;&#9675;&#9675;&#9679;"; }
        else if( dispo >= 0.7 && dispo <= 0.89 ){ headtxt+="&#9675;&#9675;&#9675;&#9679;&#9679;"; }
        else if( dispo >= 0.9 && dispo <= 1.1 ){ headtxt+="&#9675;&#9675;&#9679;&#9679;&#9679;"; }
        else if( dispo >= 1.11 && dispo <= 1.3 ){ headtxt+="&#9675;&#9679;&#9679;&#9679;&#9679;"; }
        else if( dispo >= 1.31 && dispo <= 1.55 ){ headtxt+="&#9679;&#9679;&#9679;&#9679;&#9679;"; }

        headtxt+=" +"+bonus+"/-"+malus+"<br>";

        txt+=headtxt;
        txt+=""+Spaces(dSpace)+"&nbsp;&nbsp;&nbsp;min&nbsp;&nbsp;&nbsp;&nbsp;max&nbsp;&nbsp;&nbsp;&nbsp;avg<br>";

        if( category == "R" ) // Rifle
        {
            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 165;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 149.99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 120;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Elemental Damage 
            txt+=FormatString("Elemental Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99.99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 60.03;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 49.95;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Projectile Speed 
            txt+=FormatString("Projectile Speed",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Zoom 
            txt+=FormatString("Zoom",dSpace)+"&nbsp;"; val = 59.99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Punch Through 
            txt+=FormatString("Punch Through",dSpace)+"&nbsp;"; val = 2.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );

            txt+="<br>";

            if( malus_mod == 0 ){ txt+="<span class=\"s2\">"; }

            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 165;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 149.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 120;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 60.03;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 49.95;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Projectile Speed 
            txt+=FormatString("Projectile Speed",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Zoom 
            txt+=FormatString("Zoom",dSpace)+"&nbsp;"; val = 59.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );  

            if( malus_mod == 0 ){ txt+="</span>"; }
        }
        else if( category == "S" )
        {
            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 164.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Elemental Damage 
            txt+=FormatString("Elemental Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 89.1;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Projectile Speed 
            txt+=FormatString("Projectile Speed",dSpace)+"&nbsp;"; val = 89.1;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 49.45;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Punch Through 
            txt+=FormatString("Punch Through",dSpace)+"&nbsp;"; val = 2.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );

            txt+="<br>";

            if( malus_mod == 0 ){ txt+="<span class=\"s2\">"; }

            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 164.7;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 89.1;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Projectile Speed 
            txt+=FormatString("Projectile Speed",dSpace)+"&nbsp;"; val = 89.1;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 49.45;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );

            if( malus_mod == 0 ){ txt+="</span>"; }
            txt+="<br>";
            txt+="<br>";

        }
        else if( category == "P" )
        {
            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 219.6;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 149.99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Elemental Damage 
            txt+=FormatString("Elemental Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99.99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 74.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Projectile Speed 
            txt+=FormatString("Projectile Speed",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Zoom 
            txt+=FormatString("Zoom",dSpace)+"&nbsp;"; val = 80.1;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Punch Through 
            txt+=FormatString("Punch Through",dSpace)+"&nbsp;"; val = 2.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );

            txt+="<br>";

            if( malus_mod == 0 ){ txt+="<span class=\"s2\">"; }

            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 219.6;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.97;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 149.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 74.7;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Projectile Speed 
            txt+=FormatString("Projectile Speed",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 50;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Zoom 
            txt+=FormatString("Zoom",dSpace)+"&nbsp;"; val = 59.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );  

            if( malus_mod == 0 ){ txt+="</span>"; }
        }
        else if( category == "A" )
        {
            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 60.3;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 80.1;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Elemental Damage 
            txt+=FormatString("Elemental Damage",dSpace)+"&nbsp;"; val = 119.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 60.3;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99.99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 60.03;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 60.3;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Zoom 
            txt+=FormatString("Zoom",dSpace)+"&nbsp;"; val = 59.99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Punch Through 
            txt+=FormatString("Punch Through",dSpace)+"&nbsp;"; val = 2.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );

            txt+="<br>";

            if( malus_mod == 0 ){ txt+="<span class=\"s2\">"; }

            // Multishot 
            txt+=FormatString("Multishot",dSpace)+"&nbsp;"; val = 60.3;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage 
            txt+=FormatString("Damage",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Physical Damage 
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Chance 
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Damage 
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 80.1;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Elemental Damage 
            txt+=FormatString("Elemental Damage",dSpace)+"&nbsp;"; val = 119.7;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Chance 
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 60.3;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Duration 
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage to Faction 
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Fire Rate 
            txt+=FormatString("Fire Rate",dSpace)+"&nbsp;"; val = 60.03;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Magazine Capacity 
            txt+=FormatString("Magazine Capacity",dSpace)+"&nbsp;"; val = 60.3;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Ammo Maximum 
            txt+=FormatString("Ammo Maximum",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Reload Speed 
            txt+=FormatString("Reload Speed",dSpace)+"&nbsp;"; val = 99.9;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Weapon Recoil 
            txt+=FormatString("Weapon Recoil",dSpace)+"&nbsp;"; val = -90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Zoom 
            txt+=FormatString("Zoom",dSpace)+"&nbsp;"; val = 59.99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );

            if( malus_mod == 0 ){ txt+="</span>"; }
            txt+="<br>";

        }
        else if( category == "M" )
        {
            // Melee Damage
            txt+=FormatString("Melee Damage",dSpace)+"&nbsp;"; val = 164.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Physical Damage
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Chance
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 180;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Damage
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Elemental damage
            txt+=FormatString("Elemental damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Chance
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Status Duration
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Damage to Faction
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Heavy Attack Eff.
            txt+=FormatString("Heavy Attack Eff.",dSpace)+"&nbsp;"; val = 73.44;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Attack Speed
            txt+=FormatString("Attack Speed",dSpace)+"&nbsp;"; val = 54.9;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Finisher Damage
            txt+=FormatString("Finisher Damage",dSpace)+"&nbsp;"; val = 119.7;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Range
            txt+=FormatString("Range",dSpace)+"&nbsp;"; val = 1.94;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Critical Chance Slide
            txt+=FormatString("Critical Chance Slide",dSpace)+"&nbsp;"; val = 120;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Combo Duration
            txt+=FormatString("Combo Duration",dSpace)+"&nbsp;"; val = 8.1;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Initial Combo
            txt+=FormatString("Initial Combo",dSpace)+"&nbsp;"; val = 24.5;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );
            // Combo Count Chance
            txt+=FormatString("Combo Count Chance",dSpace)+"&nbsp;"; val = 58.77;
            txt+=FormatRange( dispo, bonus_mod, val, vSpace );

            txt+="<br>";

            if( malus_mod == 0 ){ txt+="<span class=\"s2\">"; }

            // Physical Damage
            txt+=FormatString("Physical Damage",dSpace)+"&nbsp;"; val = 119.7;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Chance
            txt+=FormatString("Critical Chance",dSpace)+"&nbsp;"; val = 180;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Damage
            txt+=FormatString("Critical Damage",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Chance
            txt+=FormatString("Status Chance",dSpace)+"&nbsp;"; val = 90;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Status Duration
            txt+=FormatString("Status Duration",dSpace)+"&nbsp;"; val = 99;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Damage to Faction
            txt+=FormatString("Damage to Faction",dSpace)+"&nbsp;"; val = 45;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Heavy Attack Eff.
            txt+=FormatString("Heavy Attack Eff.",dSpace)+"&nbsp;"; val = 73.44;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Attack Speed
            txt+=FormatString("Attack Speed",dSpace)+"&nbsp;"; val = 54.9;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Finisher Damage
            txt+=FormatString("Finisher Damage",dSpace)+"&nbsp;"; val = 119.7;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Range
            txt+=FormatString("Range",dSpace)+"&nbsp;"; val = 1.94;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Critical Chance Slide
            txt+=FormatString("Critical Chance Slide",dSpace)+"&nbsp;"; val = 120;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Combo Duration
            txt+=FormatString("Combo Duration",dSpace)+"&nbsp;"; val = 8.1;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );
            // Combo Count Chance
            txt+=FormatString("Combo Count Chance",dSpace)+"&nbsp;"; val = 104.85;
            txt+=FormatRange( dispo, malus_mod, val, vSpace );

            if( malus_mod == 0 ){ txt+="</span>"; }
            txt+="<br>";
            txt+="<br>";
            txt+="<br>";
        }
        document.getElementById("stats").innerHTML = txt;
    }
    function FormatRange( dispo, modifier, baseval, vSpace ){
        var txt = "";
        if(alternate == 0)
        {
            txt+="<span class=\"min\">"+FormatNum( (((baseval*0.90)*dispo)*modifier).toFixed(1), vSpace )+"&nbsp;</span>";
            txt+="<span class=\"max\">"+FormatNum( (((baseval*1.10)*dispo)*modifier).toFixed(1), vSpace )+"&nbsp;</span>";
            txt+="<span class=\"avg\">"+FormatNum( (((baseval*1)*dispo)*modifier).toFixed(1), vSpace )+"&nbsp;</span><br>";
            alternate = 1;
        }
        else if(alternate == 1)
        {
            txt+="<span class=\"min min2\">"+FormatNum( (((baseval*0.90)*dispo)*modifier).toFixed(1), vSpace )+"&nbsp;</span>";
            txt+="<span class=\"max max2\">"+FormatNum( (((baseval*1.10)*dispo)*modifier).toFixed(1), vSpace )+"&nbsp;</span>";
            txt+="<span class=\"avg avg2\">"+FormatNum( (((baseval*1)*dispo)*modifier).toFixed(1), vSpace )+"&nbsp;</span><br>";
            alternate = 0;
        }
        return txt;
    }

    function FormatNum( num, length ){
        var stringNum = ""+num;
        if( stringNum.length >= length )
            return stringNum;

        if( stringNum.length < length )
        {
            return Spaces(length-stringNum.length)+""+stringNum;
        }
    }

    function FormatString( str, length ){
        if( str.length >= length )
            return;

        if( str.length < length )
        {
            return Spaces(length-str.length)+""+str;
        }
    }

    function Spaces( num )
    {
        var txt = "";
        for( i=0; i<num; i++ )
        {
            txt += "&nbsp;"
        }
        return txt;
    }

    function SortWeaponList()
    {
        for( i=0; i<weapons.length; i++ )
        {
            weaponsAlphabetical.push( weapons[i].weaponName );
        }

        weaponsAlphabetical.sort();

        var tmpArr = [...weapons]; // https://holycoders.com/javscript-copy-array/
        tmpArr.sort( function ( a,b ) { return b.dispo - a.dispo } ); //https://stackoverflow.com/questions/5876424/sort-array-of-objects

        for( i=0; i<tmpArr.length;i++ ){
            weaponsDispoOrder.push( tmpArr[i].weaponName );
        }

        RenderWeaponList();
    }

    function SetSortingType()
    {
        sortAlphabetical = !sortAlphabetical;
        RenderWeaponList();
    }

    function SetWeaponDisplayType()
    {
        displayBlob = !displayBlob
        RenderWeaponList();
    }

    function RenderWeaponList()
    {
        var innerHTMLtext = "";
        innerHTMLtext+="<div class=\"menu\">";
        var sortTxt = "Sorting by Disposition";
        if(sortAlphabetical){ sortTxt = "Sorting Alphabetical" }

        var displayTxt = "Weapon List: Tall";
        if(displayBlob){ displayTxt="Weapon List: Wide"; }
        innerHTMLtext += "<span onclick=\"SetSortingType()\">"+sortTxt+"</span>&nbsp;<span onclick=\"SetWeaponDisplayType()\">"+displayTxt+"</span>";
        innerHTMLtext += "</div>"

        var typeOrder = ["R","S","P","M","A"];
        var arrayOrder = [];

        if( sortAlphabetical ) {
            arrayOrder = [...weaponsAlphabetical]; }
        else {
            arrayOrder = [...weaponsDispoOrder]; }

        for( t=0;t<typeOrder.length;t++ )
        {
            if(displayBlob){ innerHTMLtext += "<div class=\"w\">"; }
            else{            innerHTMLtext += "<div class=\"t\">"; }

            if( typeOrder[t] == "R" ){ innerHTMLtext += "<h2>Rifle ("+rCount+")</h2>"; }
            if( typeOrder[t] == "S" ){ innerHTMLtext += "<h2>Shotgun ("+sCount+")</h2>"; }
            if( typeOrder[t] == "P" ){ innerHTMLtext += "<h2>Pistol ("+pCount+")</h2>";}
            if( typeOrder[t] == "M" ){ innerHTMLtext += "<h2>Melee ("+mCount+")</h2>";}
            if( typeOrder[t] == "A" ){ innerHTMLtext += "<h2>Archgun ("+aCount+")</h2>";}

            for( i=0; i<arrayOrder.length; i++ )
            {
                for( ii=0; ii<weapons.length; ii++ )
                {
                    if(arrayOrder[i] == weapons[ii].weaponName && weapons[ii].weaponType == typeOrder[t])
                    {
                        if( weapons[ii].weaponName == selectedWeapon )
                        {
                            if(displayBlob){ innerHTMLtext += "<a href=\"#\" class=\"w h\" onclick=\"WeaponSelect(\'"; }
                            else{            innerHTMLtext += "<a href=\"#\" class=\"t h\" onclick=\"WeaponSelect(\'"; }
                            innerHTMLtext += arrayOrder[i]+"\', \'"+weapons[ii].dispo+"\', \'"+weapons[ii].weaponType+"\');\">"+arrayOrder[i]+"("+ weapons[ii].dispo +")</a>";
                        }
                        else
                        {
                            if(displayBlob){ innerHTMLtext += "<a href=\"#\" class=\"w\" onclick=\"WeaponSelect(\'"; }
                            else{            innerHTMLtext += "<a href=\"#\" class=\"t\" onclick=\"WeaponSelect(\'"; }
                            innerHTMLtext += arrayOrder[i]+"\', \'"+weapons[ii].dispo+"\', \'"+weapons[ii].weaponType+"\');\">"+arrayOrder[i]+"("+ weapons[ii].dispo +")</a>";
                        }
                    }
                }
            }

            innerHTMLtext += "</div>"
        }

        innerHTMLtext += "<h2><br>&nbsp;<br>&nbsp;<br>&nbsp;</h2>";
        document.getElementById("list").innerHTML = innerHTMLtext;
    }

    function autocomplete(inp, arr) {
    /*the autocomplete function takes two arguments,
    the text field element and an array of possible autocompleted values:*/
    var currentFocus;
    /*execute a function when someone writes in the text field:*/
    inp.addEventListener("input", function(e) {
        var a, b, i, val = this.value;
        /*close any already open lists of autocompleted values*/
        closeAllLists();
        if (!val) { return false;}
        currentFocus = -1;
        /*create a DIV element that will contain the items (values):*/
        a = document.createElement("DIV");
        a.setAttribute("id", this.id + "autocomplete-list");
        a.setAttribute("class", "autocomplete-items");
        /*append the DIV element as a child of the autocomplete container:*/
        this.parentNode.appendChild(a);
        /*for each item in the array...*/
        for (i = 0; i < arr.length; i++) {
            /*check if the item starts with the same letters as the text field value:*/
            if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                /*create a DIV element for each matching element:*/
                b = document.createElement("DIV");
                /*make the matching letters bold:*/
                b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
                b.innerHTML += arr[i].substr(val.length);
                /*insert a input field that will hold the current array item's value:*/
                b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
                /*execute a function when someone clicks on the item value (DIV element):*/
                b.addEventListener("click", function(e) {
                    /*insert the value for the autocomplete text field:*/
                    inp.value = this.getElementsByTagName("input")[0].value;
                    window.scrollTo(0, 0);
                    DropListSelect(inp.value);
                    /*close the list of autocompleted values,
                    (or any other open lists of autocompleted values:*/
                    closeAllLists();
                });
            a.appendChild(b);
            }
        }
    });
    /*execute a function presses a key on the keyboard:*/
    inp.addEventListener("keydown", function(e) {
        var x = document.getElementById(this.id + "autocomplete-list");
        if (x) x = x.getElementsByTagName("div");

        if (e.keyCode == 40) {
            /*If the arrow DOWN key is pressed,
            increase the currentFocus variable:*/
            currentFocus++;
            /*and and make the current item more visible:*/
            addActive(x);
        } else if (e.keyCode == 38) { //up
            /*If the arrow UP key is pressed,
            decrease the currentFocus variable:*/
            currentFocus--;
            /*and and make the current item more visible:*/
            addActive(x);
        } else if (e.keyCode == 13) {
            /*If the ENTER key is pressed, prevent the form from being submitted,*/
            e.preventDefault();
            if (currentFocus > -1) {
                /*and simulate a click on the "active" item:*/
                if (x) x[currentFocus].click();
            }
            else{
                x[0].click();
            }
        }
    });
    function addActive(x) {
        /*a function to classify an item as "active":*/
        if (!x) return false;
        /*start by removing the "active" class on all items:*/
        removeActive(x);
        if (currentFocus >= x.length) currentFocus = 0;
        if (currentFocus < 0) currentFocus = (x.length - 1);
        /*add class "autocomplete-active":*/
        x[currentFocus].classList.add("autocomplete-active");
    }
    function removeActive(x) {
        /*a function to remove the "active" class from all autocomplete items:*/
        for (var i = 0; i < x.length; i++) {
            x[i].classList.remove("autocomplete-active");
        }
    }
    function closeAllLists(elmnt) {
        /*close all autocomplete lists in the document,
        except the one passed as an argument:*/
        var x = document.getElementsByClassName("autocomplete-items");
        for (var i = 0; i < x.length; i++) {
            if (elmnt != x[i] && elmnt != inp) {
                x[i].parentNode.removeChild(x[i]);
            }
        }
    }
    /*execute a function when someone clicks in the document:*/
    document.addEventListener("click", function (e) {
        if(selectedWeapon != ""){ DropListSelect(selectedWeapon); }
        closeAllLists(e.target);
    });
}

var weapons = [];
var weaponsAlphabetical = [];
var weaponsDispoOrder = [];
var selectedWeapon = "";
var alternate = 0;
var sortAlphabetical = false;
var displayBlob = false;

var rCount = 0;
var sCount = 0;
var pCount = 0;
var aCount = 0;
var mCount = 0;

DispositionUpdates();
SortWeaponList();
FormChange();

autocomplete(document.getElementById("myInput"), weaponsAlphabetical);

</script>
</body>
</html>